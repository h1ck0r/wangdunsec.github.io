(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0dc4cb06"],{"06ee":function(t,e,n){"use strict";n("1e2e")},"0dec":function(t,e,n){t.exports=n("f292")},"11e9":function(t,e,n){var i=n("52a7"),a=n("4630"),s=n("6821"),r=n("6a99"),o=n("69a8"),c=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=s(t),e=r(e,!0),c)try{return l(t,e)}catch(n){}if(o(t,e))return a(!i.f.call(t,e),t[e])}},"1e2e":function(t,e,n){},"2b1b":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-row",[t._l(t.timelist,(function(e,i){return n("el-col",{key:i,attrs:{span:16}},[n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("时间模式信息")]),t._v(" "),0===t.countlist.length?n("el-tooltip",{attrs:{content:"未启动"}},[n("i",{staticClass:"fa fa-stop",attrs:{"aria-hidden":"true"}})]):e.temp_id===t.countlist[0].temp_time_id?n("el-tooltip",{attrs:{content:"运行中"}},[n("i",{staticClass:"el-icon-loading",staticStyle:{color:"#20a0ff"}})]):t._e()],1),t._v(" "),n("el-container",[n("el-aside",{attrs:{width:"356px"}},[e.image_name!==t.imgpath?n("img",{attrs:{src:e.image_name,alt:"",width:"356px",height:"248px"}}):t._e()]),t._v(" "),n("el-main",{staticStyle:{"margin-top":"-15px"}},[n("el-row",[n("el-col",{attrs:{span:19}},[n("span",{staticClass:"info2"},[t._v(t._s(e.name))])])],1),t._v(" "),n("el-row",{staticStyle:{"margin-top":"25px"}},[n("el-col",{attrs:{span:5}},[n("span",{staticClass:"info3"},[t._v("计时时间")])]),t._v(" "),n("el-col",{attrs:{span:19}},[t._v("\n                  "+t._s(e.time_range)+"分钟\n                ")])],1),t._v(" "),n("el-row",{staticStyle:{"margin-top":"20px"}},[n("el-col",{attrs:{span:5}},[n("span",{staticClass:"info3"},[t._v("rank范围")])]),t._v(" "),n("el-col",{attrs:{span:19}},[t._v("\n                  "+t._s(e.rank_range)+"\n                ")])],1),t._v(" "),n("el-row",{staticStyle:{"margin-top":"20px"}},[n("el-col",{attrs:{span:5}},[n("span",{staticClass:"info3"},[t._v("当前排名")])]),t._v(" "),n("el-col",{attrs:{span:19}},[0===t.currentRank?n("span",[t._v("\n                    未上榜\n                  ")]):t.currentRank>0?n("span",[t._v("\n                    "+t._s(t.currentRank)+"\n                  ")]):t._e()])],1),t._v(" "),n("el-row",{staticStyle:{"margin-top":"20px"}},[n("el-col",{attrs:{span:5}},[n("span",{staticClass:"info3"},[t._v("倒计时")])]),t._v(" "),n("el-col",{attrs:{span:19}},[t.countlist.length>0&&t.countlist[0].temp_time_id===e.temp_id?n("count-down",{staticStyle:{"margin-top":"-15px"},attrs:{currentTime:t.countlist[0].start_date,startTime:t.countlist[0].start_date,endTime:t.countlist[0].end_date,dayTxt:"天",hourTxt:"小时",minutesTxt:"分钟",secondsTxt:"秒"},on:{end_callback:function(e){return t.autostop()}}}):n("span",[t._v("未开始")])],1)],1),t._v(" "),0!==t.countlist.length?n("el-row",{staticStyle:{"margin-top":"20px"}},[e.temp_id!==t.countlist[0].temp_time_id?n("el-button",{staticClass:"btn1",staticStyle:{"margin-top":"-15px"},attrs:{size:"mini"},on:{click:function(n){return t.handleOk(e)}}},[n("span",{staticClass:"span1"},[n("i",{staticClass:"el-icon-video-play",staticStyle:{"margin-right":"2px"}}),t._v("启动盲盒")])]):t._e(),t._v(" "),e.temp_id===t.countlist[0].temp_time_id?n("el-button",{staticClass:"btn1",staticStyle:{"margin-top":"-15px"},attrs:{size:"mini"},on:{click:function(e){return t.stop()}}},[n("span",{staticClass:"span1"},[n("i",{staticClass:"el-icon-loading",staticStyle:{"margin-right":"2px"}}),t._v("停止盲盒")])]):t._e()],1):0===t.countlist.length?n("el-row",{staticStyle:{"margin-top":"20px"}},[n("el-col",[n("el-button",{staticClass:"btn1",attrs:{size:"mini"},on:{click:function(n){return t.opendialog(e)}}},[n("span",{staticClass:"span1"},[n("i",{staticClass:"el-icon-video-play",staticStyle:{"margin-right":"2px"}}),t._v("启动盲盒")])]),t._v("\n                  该场景已有\n                  "),n("span",{staticClass:"span5"},[t._v(t._s(t.page.total))]),t._v("\n                  人参加\n                ")],1)],1):t._e()],1),t._v(" "),n("el-aside",{attrs:{width:"60px"}},[n("el-row",[n("el-col",[n("span",{staticClass:"txt8"},[t._v(t._s(t.currentScore))]),t._v(" "),n("span",{staticClass:"word5"},[t._v("分")])])],1)],1)],1),t._v(" "),n("el-divider"),t._v(" "),n("el-container",[n("el-main",[n("el-row",[n("span",{staticClass:"span2"},[t._v("盲盒描述")])]),t._v(" "),n("el-row",{staticStyle:{"margin-top":"24px"}},[n("span",{staticClass:"span3"},[t._v(" "+t._s(e.time_desc)+" ")])])],1)],1)],1),t._v(" "),n("el-card",{staticStyle:{"margin-top":"20px"}},[n("el-row",[n("el-col",[n("span",[t._v("评论")]),t._v(" "),n("el-divider"),t._v(" "),n("el-input",{attrs:{rows:"5",type:"textarea",placeholder:"既然来了就说点什么吧～",maxlength:"500","show-word-limit":""},model:{value:t.contentText,callback:function(e){t.contentText=e},expression:"contentText"}}),t._v(" "),n("el-button",{staticStyle:{float:"right","margin-top":"10px"},attrs:{size:"small",type:"primary"},on:{click:t.handleText}},[t._v("发表")])],1)],1),t._v(" "),n("el-row",t._l(t.contentList,(function(e,i){return n("el-col",{key:i},[n("el-card",{staticStyle:{"margin-top":"10px"}},[n("el-container",[n("el-aside",{staticStyle:{"margin-top":"7px"},attrs:{width:"48px"}},[[n("img",{staticStyle:{width:"48px",height:"48px","border-radius":"50%",float:"left","margin-top":"10px"},attrs:{src:e.user_avatar}})]],2),t._v(" "),n("el-main",[n("el-row",[n("el-col",{attrs:{span:3}},[n("span",{staticClass:"span7"},[t._v("\n                        "+t._s(e.username)+"\n                      ")])]),t._v(" "),n("el-col",{attrs:{span:20}},[n("span",{staticClass:"span8"},[t._v("\n                        "+t._s(e.create_time)+"\n                      ")])])],1),t._v(" "),n("el-row",{staticStyle:{"margin-top":"5px"}},[n("span",[t._v(t._s(e.content))])])],1)],1)],1)],1)})),1)],1)],1)})),t._v(" "),n("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:7}},[n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("时间模式排名")])]),t._v(" "),n("div",[n("el-table",{attrs:{data:t.tableData}},[n("el-table-column",{attrs:{type:"index",label:"排名",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.page.currentPageNum*t.page.size+e.$index+1-t.page.size>=4?n("p",{staticStyle:{"margin-left":"15px"}},[t._v(t._s(t.page.currentPageNum*t.page.size+e.$index+1-t.page.size))]):t._e(),t._v(" "),t.page.currentPageNum*t.page.size+e.$index+1-t.page.size===1?n("svg-icon",{staticStyle:{"margin-left":"15px",height:"48px"},attrs:{"icon-class":"trophy1"}}):t._e(),t._v(" "),t.page.currentPageNum*t.page.size+e.$index+1-t.page.size===2?n("svg-icon",{staticStyle:{"margin-left":"15px",height:"48px"},attrs:{"icon-class":"trophy2"}}):t._e(),t._v(" "),t.page.currentPageNum*t.page.size+e.$index+1-t.page.size===3?n("svg-icon",{staticStyle:{"margin-left":"15px",height:"48px"},attrs:{"icon-class":"trophy3"}}):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"name","show-overflow-tooltip":!0,label:"用户名"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%",float:"left","margin-top":"10px"},attrs:{src:e.row.avatar}}),t._v(" "),n("p",{staticStyle:{float:"left","margin-left":"5px","margin-top":"14px"}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"rank",label:"积分",width:"80"}})],1)],1),t._v(" "),n("div",{staticStyle:{"margin-top":"20px"}},[n("el-pagination",{attrs:{"page-size":t.page.size,time:"total, prev, pager, next, jumper",total:t.page.total},on:{"current-change":t.StateChange}})],1)])],1)],2),t._v(" "),n("div",{staticStyle:{"margin-top":"20px"}},[n("el-dialog",{attrs:{visible:t.dialogVisible,title:"请输入验证码",width:"400px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",[n("el-form-item",[n("el-row",{attrs:{span:24}},[n("el-col",{attrs:{span:8}},[n("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入验证码"},model:{value:t.commentCode,callback:function(e){t.commentCode=e},expression:"commentCode"}})],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"login-code"},[n("v-sidentify",{on:{getIdentifyCode:t.identifyCode}})],1)])],1),t._v(" "),n("el-row",[n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.commitText}},[t._v("确认")])],1)],1)],1)],1)],1)],1)},a=[],s=n("db72"),r=n("2f62"),o=n("0dec"),c=n.n(o),l=n("905e"),u=n("ef67"),d=n("c24f"),m={inject:["reload"],name:"timeindex.vue",components:{CountDown:c.a,"v-sidentify":u["a"]},data:function(){return{search:"",get_time:"",timelist:[],countlist:[],tableData:[],imgpath:"/images/",modelimg:n("aa63"),page:{total:0,size:20,page:1,currentPageNum:1},currentRank:0,currentScore:0,rankList:[],contentText:"",contentList:[],dialogVisible:!1,verificationCode:"",commentCode:""}},computed:Object(s["a"])({},Object(r["b"])(["name","avatar","roles","rank"])),created:function(){this.templist(),this.gettimelist(),this.StateChange(),this.initComment()},methods:{identifyCode:function(t){this.verificationCode=t},gettimelist:function(){var t=this;Object(l["a"])().then((function(e){var n=e.data.results;t.countlist=n,0===t.countlist.length||(t.countlist[0].end_date=l["b"].getTimestamp(t.countlist[0].end_date),t.countlist[0].start_date=l["b"].getTimestamp(t.get_time))}))},templist:function(){var t=this,e=this.$route.query.temp_id;void 0!==e&&null!=e&&""!==e||(this.$message({message:"参数不能为空",type:"error"}),this.$router.push({path:"/scene/list"})),Object(l["c"])(e).then((function(e){var i=e.data;i.image_name?i.image_name="/images/"+i.image_name:i.image_name=n("aa63"),t.timelist.push(i)}))},stop:function(){var t=this;this.$confirm("是否取消挑战?","提示",{center:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["e"])().then((function(e){var n=e.data,i="success",a="";"2000"===n.code?a="计时模式已经关闭！":(i="error",a="关闭失败,内部错误"),t.$message({type:i,message:a})})),t.$router.push({path:"/dashboard"})})).catch((function(){t.$message({type:"info",message:"已取消"})}))},opendialog:function(t){var e=this;this.item=t,!0===t.flag_status?this.$message({type:"error",message:t.time_range+"分钟挑战赛已经开始"}):this.$confirm("是否开始挑战?","提示",{center:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["d"])(t).then((function(t){var n=t.data,i="success",a="";"200"===n.code?a="计时模式开始启动！":"2001"===n.code?a="计时模式已经启动，请勿重新启动":(i="error",a="内部错误"),e.$message({type:i,message:a})})),e.$router.push({path:"/dashboard"})})).catch((function(){e.$message({type:"info",message:"已取消挑战"})}))},handleOk:function(t){0===this.countlist.length?this.opendialog(t):this.$message({message:"已有时间模式在运行，请先关闭",type:"error"})},autostop:function(){var t=this;Object(l["e"])().then((function(e){var n=e.data,i="success",a="";"2000"===n.code?a="计时模式已经关闭！":(i="error",a="关闭失败,内部错误"),t.$message({type:i,message:a})}))},StateChange:function(t){var e=this;void 0!=t&&null!=t&&""!=t||(t=1);var n=this.$route.query.temp_id;void 0!==n&&null!=n&&""!==n||(this.$message({message:"参数不能为空",type:"error"}),this.$router.push({path:"/scene/list"})),Object(l["f"])(n,t).then((function(n){e.tableData=n.data.results,e.page.total=n.data.count,e.currentScore=n.data.current_score,e.currentRank=n.data.current_rank,e.page.currentPageNum=t}))},handleText:function(){this.dialogVisible=!0},commitText:function(){var t=this;if(this.commentCode===this.verificationCode){var e=new FormData;e.set("scene_id",this.$route.query.temp_id),e.set("content",this.contentText),e.set("scene_type","TimingBlindBox"),Object(d["d"])(e).then((function(e){200===e.data.status?(t.$message({message:e.data.message,type:"success"}),t.dialogVisible=!1,t.reload()):t.$message({message:e.data.message,type:"error"})}))}else this.$message({message:"验证码错误",type:"error"})},initComment:function(){var t=this,e=this.$route.query.temp_id;Object(d["e"])(e).then((function(e){t.contentList=e.data.results}))}},mounted:function(){var t=this,e=(new Date).getFullYear(),n=(new Date).getMonth()+1,i=(new Date).getDate(),a=(new Date).getHours(),s=(new Date).getMinutes()<10?"0"+(new Date).getMinutes():(new Date).getMinutes(),r=(new Date).getSeconds()<10?"0"+(new Date).getSeconds():(new Date).getSeconds();t.get_time=e+"-"+n+"-"+i+" "+a+":"+s+":"+r}},p=m,h=(n("9d86"),n("2877")),f=Object(h["a"])(p,i,a,!1,null,"326c9927",null);e["default"]=f.exports},"36bd":function(t,e,n){"use strict";var i=n("4bf8"),a=n("77f1"),s=n("9def");t.exports=function(t){var e=i(this),n=s(e.length),r=arguments.length,o=a(r>1?arguments[1]:void 0,n),c=r>2?arguments[2]:void 0,l=void 0===c?n:a(c,n);while(l>o)e[o++]=t;return e}},"5dbc":function(t,e,n){var i=n("d3f4"),a=n("8b97").set;t.exports=function(t,e,n){var s,r=e.constructor;return r!==n&&"function"==typeof r&&(s=r.prototype)!==n.prototype&&i(s)&&a&&a(t,s),t}},"6c7b":function(t,e,n){var i=n("5ca1");i(i.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"8b97":function(t,e,n){var i=n("d3f4"),a=n("cb7c"),s=function(t,e){if(a(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,n){return s(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:s}},"905e":function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"a",(function(){return r})),n.d(e,"g",(function(){return o})),n.d(e,"i",(function(){return c})),n.d(e,"h",(function(){return l})),n.d(e,"j",(function(){return u})),n.d(e,"c",(function(){return d})),n.d(e,"f",(function(){return m})),n.d(e,"b",(function(){return p}));var i=n("b775");function a(t){return Object(i["a"])({url:"/time/",method:"post",data:t})}function s(){return Object(i["a"])({url:"/time/",method:"delete"})}function r(){return Object(i["a"])({url:"/time/",method:"get"})}function o(t){return Object(i["a"])({url:"/timetemp/",method:"post",data:t})}function c(t){var e="";!0===t&&(e="flag"),"temp"===t&&(e="temp");var n="/timetemp/?query=&flag="+e;return Object(i["a"])({url:n,method:"get"})}function l(t){return Object(i["a"])({url:"/timetemp/"+t+"/",method:"delete",data:{id:t}})}function u(t){return void 0!==t&&null!==t||(t=1),Object(i["a"])({url:"/rank/user/?page="+t,method:"get"})}function d(t){return Object(i["a"])({url:"/time/"+t+"/get/",method:"get"})}function m(t,e){return void 0!==e&&null!==e||(e=1),Object(i["a"])({url:"/timerank/?value="+t+"&page="+e,method:"get"})}var p={getTimestamp:function(t){return new Date(t).getTime()/1e3}}},9093:function(t,e,n){var i=n("ce10"),a=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,a)}},"9d86":function(t,e,n){"use strict";n("f599")},aa63:function(t,e,n){t.exports=n.p+"static/img/modelbg.fcbe2049.jpg"},aa77:function(t,e,n){var i=n("5ca1"),a=n("be13"),s=n("79e5"),r=n("fdef"),o="["+r+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(t,e,n){var a={},o=s((function(){return!!r[t]()||c[t]()!=c})),l=a[t]=o?e(m):r[t];n&&(a[n]=l),i(i.P+i.F*o,"String",a)},m=d.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},c5f6:function(t,e,n){"use strict";var i=n("7726"),a=n("69a8"),s=n("2d95"),r=n("5dbc"),o=n("6a99"),c=n("79e5"),l=n("9093").f,u=n("11e9").f,d=n("86cc").f,m=n("aa77").trim,p="Number",h=i[p],f=h,g=h.prototype,_=s(n("2aeb")(g))==p,v="trim"in String.prototype,y=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():m(e,3);var n,i,a,s=e.charCodeAt(0);if(43===s||45===s){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+e}for(var r,c=e.slice(2),l=0,u=c.length;l<u;l++)if(r=c.charCodeAt(l),r<48||r>a)return NaN;return parseInt(c,i)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(_?c((function(){g.valueOf.call(n)})):s(n)!=p)?r(new f(y(e)),n,h):y(e)};for(var x,b=n("9e1e")?l(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)a(f,x=b[w])&&!a(h,x)&&d(h,x,u(f,x));h.prototype=g,g.constructor=h,n("2aba")(i,p,h)}},ef67:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"s-canvas",on:{click:t.createdCode}},[n("canvas",{attrs:{id:"s-canvas",width:t.contentWidth,height:t.contentHeight}})])},a=[],s=(n("6c7b"),n("c5f6"),n("2b0e")),r=s["default"].extend({props:{fontSizeMin:{type:Number,default:25},fontSizeMax:{type:Number,default:30},backgroundColorMin:{type:Number,default:255},backgroundColorMax:{type:Number,default:255},colorMin:{type:Number,default:0},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:100},lineColorMax:{type:Number,default:255},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:120},contentHeight:{type:Number,default:34}},data:function(){return{identifyCode:""}},mounted:function(){this.createdCode()},methods:{createdCode:function(){for(var t=4,e=[],n="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789",i=n.length,a=0;a<t;a++)e.push(n.charAt(Math.floor(Math.random()*i)));this.identifyCode=e.join(""),this.$emit("getIdentifyCode",this.identifyCode.toLowerCase()),this.drawPic()},randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){var n=this.randomNum(t,e),i=this.randomNum(t,e),a=this.randomNum(t,e);return"rgb("+n+","+i+","+a+")"},drawPic:function(){var t=document.getElementById("s-canvas"),e=t.getContext("2d");e.textBaseline="bottom",e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillRect(0,0,this.contentWidth,this.contentHeight);for(var n=0;n<this.identifyCode.length;n++)this.drawText(e,this.identifyCode[n],n);this.drawLine(e),this.drawDot(e)},drawText:function(t,e,n){t.fillStyle=this.randomColor(this.colorMin,this.colorMax),t.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var i=(n+1)*(this.contentWidth/(this.identifyCode.length+1)),a=this.randomNum(this.fontSizeMax,this.contentHeight-5),s=this.randomNum(-45,45);t.translate(i,a),t.rotate(s*Math.PI/180),t.fillText(e,0,0),t.rotate(-s*Math.PI/180),t.translate(-i,-a)},drawLine:function(t){for(var e=0;e<5;e++)t.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<80;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()}}}),o=r,c=(n("06ee"),n("2877")),l=Object(c["a"])(o,i,a,!1,null,"1879e85c",null);e["a"]=l.exports},f292:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.msTime.show?n("p",[t.msTime.day>0?n("span",[n("span",[t._v(t._s(t.msTime.day))]),n("i",[t._v(t._s(t.dayTxt))])]):t._e(),t._v(" "),n("span",[t._v(t._s(t.msTime.hour))]),n("i",[t._v(t._s(t.hourTxt))]),t._v(" "),n("span",[t._v(t._s(t.msTime.minutes))]),n("i",[t._v(t._s(t.minutesTxt))]),t._v(" "),n("span",[t._v(t._s(t.msTime.seconds))]),n("i",[t._v(t._s(t.secondsTxt))])]):t._e()])},a=[],s=(n("6b54"),n("c5f6"),{replace:!0,data:function(){return{tipShow:!0,msTime:{show:!1,day:"",hour:"",minutes:"",seconds:""},star:"",end:"",current:""}},watch:{currentTime:function(t,e){this.gogogo()}},props:{tipText:{type:String,default:"距离开始"},tipTextEnd:{type:String,default:"距离结束"},id:{type:String,default:"1"},currentTime:{type:Number},startTime:{type:Number},endTime:{type:Number},endText:{type:String,default:"已结束"},dayTxt:{type:String,default:":"},hourTxt:{type:String,default:":"},minutesTxt:{type:String,default:":"},secondsTxt:{type:String,default:":"},secondsFixed:{type:Boolean,default:!1}},mounted:function(){console.log(this),this.gogogo()},methods:{gogogo:function(){var t=this;10==this.startTime.toString().length?this.star=1e3*this.startTime:this.star=this.startTime,10==this.endTime.toString().length?this.end=1e3*this.endTime:this.end=this.endTime,this.currentTime?10==this.currentTime.toString().length?this.current=1e3*this.currentTime:this.current=this.currentTime:this.current=(new Date).getTime(),this.end<this.current?(this.msTime.show=!1,this.end_message()):this.current<this.star?(this.$set(this,"tipShow",!0),setTimeout((function(){t.runTime(t.star,t.current,t.start_message)}),1)):(this.end>this.current&&this.star<this.current||this.star==this.current)&&(this.$set(this,"tipShow",!1),this.msTime.show=!0,this.$emit("start_callback",this.msTime.show),setTimeout((function(){t.runTime(t.end,t.star,t.end_message,!0)}),1))},runTime:function(t,e,n,i){var a=this,s=this.msTime,r=t-e;if(r>0){this.msTime.show=!0,s.day=Math.floor(r/864e5),r-=864e5*s.day,s.hour=Math.floor(r/36e5),r-=36e5*s.hour,s.minutes=Math.floor(r/6e4),r-=6e4*s.minutes,s.seconds=Math.floor(r/1e3).toFixed(0),r-=1e3*s.seconds,s.hour<10&&(s.hour="0"+s.hour),s.minutes<10&&(s.minutes="0"+s.minutes),s.seconds<10&&(s.seconds="0"+s.seconds);var o=Date.now(),c=Date.now(),l=c-o;setTimeout((function(){i?a.runTime(a.end,e+=1e3,n,!0):a.runTime(a.star,e+=1e3,n)}),1e3-l)}else n()},start_message:function(){var t=this;this.$set(this,"tipShow",!1),this.$emit("start_callback",this.msTime.show),setTimeout((function(){t.runTime(t.end,t.star,t.end_message,!0)}),1)},end_message:function(){this.msTime.show=!1,this.currentTime<=0||this.$emit("end_callback",this.msTime.show)}}}),r=s,o=n("2877"),c=Object(o["a"])(r,i,a,!1,null,null,null);e["default"]=c.exports},f599:function(t,e,n){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-0dc4cb06.5d5465af.js.map